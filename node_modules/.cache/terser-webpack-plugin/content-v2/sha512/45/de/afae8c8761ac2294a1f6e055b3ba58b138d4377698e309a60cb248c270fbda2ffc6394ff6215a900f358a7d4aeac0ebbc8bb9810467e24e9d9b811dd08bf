{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t,n){(function(n){var o;\n/*!\n *  howler.js v2.1.3\n *  howlerjs.com\n *\n *  (c) 2013-2019, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */!function(){\"use strict\";var i=function(){this.init()};i.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent=\"canplaythrough\",e._navigator=\"undefined\"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var s=t._howls[n]._soundById(o[i]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var o=t._howls[n]._getSoundIds(),i=0;i<o.length;i++){var s=t._howls[n]._soundById(o[i]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,\"\")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||\"suspended\",e._autoSuspend(),!e.usingWebAudio)if(\"undefined\"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent=\"canplay\")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t=\"undefined\"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||\"function\"!=typeof t.canPlayType)return e;var n=t.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),o=e._navigator&&e._navigator.userAgent.match(/OPR\\/([0-6].)/g),i=o&&parseInt(o[0].split(\"/\")[1],10)<33;return e._codecs={mp3:!(i||!n&&!t.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),oga:!!t.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!t.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),aac:!!t.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),caf:!!t.canPlayType(\"audio/x-caf;\").replace(/^no$/,\"\"),m4a:!!(t.canPlayType(\"audio/x-m4a;\")||t.canPlayType(\"audio/m4a;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(t.canPlayType(\"audio/x-mp4;\")||t.canPlayType(\"audio/mp4;\")||t.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),webm:!!t.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),dolby:!!t.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/,\"\"),flac:!!(t.canPlayType(\"audio/x-flac;\")||t.canPlayType(\"audio/flac;\")).replace(/^no$/,\"\")},e},_unlockAudio:function(){var e=this||r;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(var o=0;o<e.html5PoolSize;o++)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch(n){e.noAudio=!0}for(o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var r=e._howls[o]._getSoundIds(),s=0;s<r.length;s++){var a=e._howls[o]._soundById(r[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),\"function\"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener(\"touchstart\",t,!0),document.removeEventListener(\"touchend\",t,!0),document.removeEventListener(\"click\",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit(\"unlock\")}};return document.addEventListener(\"touchstart\",t,!0),document.addEventListener(\"touchend\",t,!0),document.addEventListener(\"click\",t,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&\"undefined\"!=typeof Promise&&(t instanceof Promise||\"function\"==typeof t.then)&&t.catch((function(){console.warn(\"HTML5 Audio pool exhausted, returning potentially locked audio object.\")})),new Audio},_releaseHtml5Audio:function(e){var t=this||r;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&r.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){e.autoSuspend&&(e._suspendTimer=null,e.state=\"suspending\",e.ctx.suspend().then((function(){e.state=\"suspended\",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())})))}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&r.usingWebAudio)return\"running\"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):\"suspended\"===e.state?(e.ctx.resume().then((function(){e.state=\"running\";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit(\"resume\")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):\"suspending\"===e.state&&(e._resumeAfterSuspend=!0),e}};var r=new i,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error(\"An array of source files must be passed with any new Howl.\")};s.prototype={init:function(e){var t=this;return r.ctx||p(),t._autoplay=e.autoplay||!1,t._format=\"string\"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=\"boolean\"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=\"string\"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state=\"unloaded\",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:\"play\",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=null;if(r.noAudio)this._emit(\"loaderror\",null,\"No audio support.\");else{\"string\"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var n,o;if(this._format&&this._format[t])n=this._format[t];else{if(\"string\"!=typeof(o=this._src[t])){this._emit(\"loaderror\",null,\"Non-string found in selected audio sources - ignoring.\");continue}(n=/^data:audio\\/([^;,]+);/i.exec(o))||(n=/\\.([^.]+)$/.exec(o.split(\"?\",1)[0])),n&&(n=n[1].toLowerCase())}if(n||console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.'),n&&r.codecs(n)){e=this._src[t];break}}if(e)return this._src=e,this._state=\"loading\",\"https:\"===window.location.protocol&&\"http:\"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&u(this),this;this._emit(\"loaderror\",null,\"No codec support for selected audio sources.\")}},play:function(e,t){var n=this,o=null;if(\"number\"==typeof e)o=e,e=null;else{if(\"string\"==typeof e&&\"loaded\"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e=\"__default\",!n._playLock)){for(var i=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(i++,o=n._sounds[s]._id);1===i?e=null:o=null}}var a=o?n._soundById(o):n._inactiveSound();if(!a)return null;if(o&&!e&&(e=a._sprite||\"__default\"),\"loaded\"!==n._state){a._sprite=e,a._ended=!1;var l=a._id;return n._queue.push({event:\"play\",action:function(){n.play(l)}}),l}if(o&&!a._paused)return t||n._loadQueue(\"play\"),a._id;n._webAudio&&r._autoResume();var u=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*c/Math.abs(a._rate),_=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var h=function(){a._paused=!1,a._seek=u,a._start=_,a._stop=p,a._loop=!(!a._loop&&!n._sprite[e][2])};if(!(u>=p)){var f=a._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;f.gain.setValueAtTime(e,r.ctx.currentTime),a._playStart=r.ctx.currentTime,void 0===f.bufferSource.start?a._loop?f.bufferSource.noteGrainOn(0,u,86400):f.bufferSource.noteGrainOn(0,u,c):a._loop?f.bufferSource.start(0,u,86400):f.bufferSource.start(0,u,c),d!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d)),t||setTimeout((function(){n._emit(\"play\",a._id),n._loadQueue()}),0)};\"running\"===r.state?m():(n._playLock=!0,n.once(\"resume\",m),n._clearTimer(a._id))}else{var y=function(){f.currentTime=u,f.muted=a._muted||n._muted||r._muted||f.muted,f.volume=a._volume*r.volume(),f.playbackRate=a._rate;try{var o=f.play();if(o&&\"undefined\"!=typeof Promise&&(o instanceof Promise||\"function\"==typeof o.then)?(n._playLock=!0,h(),o.then((function(){n._playLock=!1,f._unlocked=!0,t||(n._emit(\"play\",a._id),n._loadQueue())})).catch((function(){n._playLock=!1,n._emit(\"playerror\",a._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\"),a._ended=!0,a._paused=!0}))):t||(n._playLock=!1,h(),n._emit(\"play\",a._id),n._loadQueue()),f.playbackRate=a._rate,f.paused)return void n._emit(\"playerror\",a._id,\"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.\");\"__default\"!==e||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d):(n._endTimers[a._id]=function(){n._ended(a),f.removeEventListener(\"ended\",n._endTimers[a._id],!1)},f.addEventListener(\"ended\",n._endTimers[a._id],!1))}catch(e){n._emit(\"playerror\",a._id,e)}};\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\"===f.src&&(f.src=n._src,f.load());var g=window&&window.ejecta||!f.readyState&&r._navigator.isCocoonJS;if(f.readyState>=3||g)y();else{n._playLock=!0;var v=function(){y(),f.removeEventListener(r._canPlayEvent,v,!1)};f.addEventListener(r._canPlayEvent,v,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(e){var t=this;if(\"loaded\"!==t._state||t._playLock)return t._queue.push({event:\"pause\",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),o=0;o<n.length;o++){t._clearTimer(n[o]);var i=t._soundById(n[o]);if(i&&!i._paused&&(i._seek=t.seek(n[o]),i._rateSeek=0,i._paused=!0,t._stopFade(n[o]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit(\"pause\",i?i._id:null)}return t},stop:function(e,t){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"stop\",action:function(){n.stop(e)}}),n;for(var o=n._getSoundIds(e),i=0;i<o.length;i++){n._clearTimer(o[i]);var r=n._soundById(o[i]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,n._stopFade(o[i]),r._node&&(n._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),n._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause(),r._node.duration===1/0&&n._clearSound(r._node))),t||n._emit(\"stop\",r._id))}return n},mute:function(e,t){var n=this;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"mute\",action:function(){n.mute(e,t)}}),n;if(void 0===t){if(\"boolean\"!=typeof e)return n._muted;n._muted=e}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var s=n._soundById(o[i]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,r.ctx.currentTime):s._node&&(s._node.muted=!!r._muted||e),n._emit(\"mute\",s._id))}return n},volume:function(){var e,t,n,o=this,i=arguments;if(0===i.length)return o._volume;if(1===i.length||2===i.length&&void 0===i[1]){var s=o._getSoundIds(),a=s.indexOf(i[0]);a>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(n=t?o._soundById(t):o._sounds[0])?n._volume:0;if(\"loaded\"!==o._state||o._playLock)return o._queue.push({event:\"volume\",action:function(){o.volume.apply(o,i)}}),o;void 0===t&&(o._volume=e),t=o._getSoundIds(t);for(var l=0;l<t.length;l++)(n=o._soundById(t[l]))&&(n._volume=e,i[2]||o._stopFade(t[l]),o._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,r.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*r.volume()),o._emit(\"volume\",n._id));return o},fade:function(e,t,n,o){var i=this;if(\"loaded\"!==i._state||i._playLock)return i._queue.push({event:\"fade\",action:function(){i.fade(e,t,n,o)}}),i;e=parseFloat(e),t=parseFloat(t),n=parseFloat(n),i.volume(e,o);for(var s=i._getSoundIds(o),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l){if(o||i._stopFade(s[a]),i._webAudio&&!l._muted){var u=r.ctx.currentTime,c=u+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(t,c)}i._startFadeInterval(l,e,t,n,s[a],void 0===o)}}return i},_startFadeInterval:function(e,t,n,o,i,r){var s=this,a=t,l=n-t,u=Math.abs(l/.01),c=Math.max(4,u>0?o/u:o),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-d)/o;d=Date.now(),a+=l*i,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,s._webAudio?e._volume=a:s.volume(a,e._id,!0),r&&(s._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit(\"fade\",e._id))}),c)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit(\"fade\",e)),this},loop:function(){var e,t,n,o=this,i=arguments;if(0===i.length)return o._loop;if(1===i.length){if(\"boolean\"!=typeof i[0])return!!(n=o._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],o._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var r=o._getSoundIds(t),s=0;s<r.length;s++)(n=o._soundById(r[s]))&&(n._loop=e,o._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return o},rate:function(){var e,t,n,o=this,i=arguments;if(0===i.length)t=o._sounds[0]._id;else if(1===i.length){var s=o._getSoundIds(),a=s.indexOf(i[0]);a>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if(\"number\"!=typeof e)return(n=o._soundById(t))?n._rate:o._rate;if(\"loaded\"!==o._state||o._playLock)return o._queue.push({event:\"rate\",action:function(){o.rate.apply(o,i)}}),o;void 0===t&&(o._rate=e),t=o._getSoundIds(t);for(var l=0;l<t.length;l++)if(n=o._soundById(t[l])){o.playing(t[l])&&(n._rateSeek=o.seek(t[l]),n._playStart=o._webAudio?r.ctx.currentTime:n._playStart),n._rate=e,o._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,r.ctx.currentTime):n._node&&(n._node.playbackRate=e);var u=o.seek(t[l]),c=(o._sprite[n._sprite][0]+o._sprite[n._sprite][1])/1e3-u,d=1e3*c/Math.abs(n._rate);!o._endTimers[t[l]]&&n._paused||(o._clearTimer(t[l]),o._endTimers[t[l]]=setTimeout(o._ended.bind(o,n),d)),o._emit(\"rate\",n._id)}return o},seek:function(){var e,t,n=this,o=arguments;if(0===o.length)t=n._sounds[0]._id;else if(1===o.length){var i=n._getSoundIds(),s=i.indexOf(o[0]);s>=0?t=parseInt(o[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(o[0]))}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if(void 0===t)return n;if(\"loaded\"!==n._state||n._playLock)return n._queue.push({event:\"seek\",action:function(){n.seek.apply(n,o)}}),n;var a=n._soundById(t);if(a){if(!(\"number\"==typeof e&&e>=0)){if(n._webAudio){var l=n.playing(t)?r.ctx.currentTime-a._playStart:0,u=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(u+l*Math.abs(a._rate))}return a._node.currentTime}var c=n.playing(t);c&&n.pause(t,!0),a._seek=e,a._ended=!1,n._clearTimer(t),n._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);var d=function(){n._emit(\"seek\",t),c&&n.play(t,!0)};if(c&&!n._webAudio){var _=function(){n._playLock?setTimeout(_,0):d()};setTimeout(_,0)}else d()}return n},playing:function(e){if(\"number\"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener(\"error\",t[n]._errorFn,!1),t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,!1),r._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var o=r._howls.indexOf(e);o>=0&&r._howls.splice(o,1);var i=!0;for(n=0;n<r._howls.length;n++)if(r._howls[n]._src===e._src||e._src.indexOf(r._howls[n]._src)>=0){i=!1;break}return l&&i&&delete l[e._src],r.noAudio=!1,e._state=\"unloaded\",e._sounds=[],e=null,null},on:function(e,t,n,o){var i=this[\"_on\"+e];return\"function\"==typeof t&&i.push(o?{id:n,fn:t,once:o}:{id:n,fn:t}),this},off:function(e,t,n){var o=this[\"_on\"+e],i=0;if(\"number\"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var r=n===o[i].id;if(t===o[i].fn&&r||!t&&r){o.splice(i,1);break}}else if(e)this[\"_on\"+e]=[];else{var s=Object.keys(this);for(i=0;i<s.length;i++)0===s[i].indexOf(\"_on\")&&Array.isArray(this[s[i]])&&(this[s[i]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var o=this[\"_on\"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&\"load\"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(this,o[i].fn),0),o[i].once&&this.off(e,o[i].fn,o[i].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!(!e._loop&&!this._sprite[t][2]);if(this._emit(\"end\",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit(\"play\",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),o)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),r._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if(\"function\"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener(\"ended\",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),this},_cleanBuffer:function(e){var t=r._navigator&&r._navigator.vendor.indexOf(\"Apple\")>=0;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=r._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\\//.test(r._navigator&&r._navigator.userAgent)||(e.src=\"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA\")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite=\"__default\",this._id=++r._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=r._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),this._node.gain.setValueAtTime(t,r.ctx.currentTime),this._node.paused=!0,this._node.connect(r.masterGain)):r.noAudio||(this._node=r._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener(\"error\",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(r._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload=\"auto\",this._node.volume=t*r.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite=\"__default\",this._id=++r._counter,this},_errorListener:function(){this._parent._emit(\"loaderror\",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener(\"error\",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue()),this._node.removeEventListener(r._canPlayEvent,this._loadFn,!1)}};var l={},u=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void _(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(\",\")[1]),o=new Uint8Array(n.length),i=0;i<n.length;++i)o[i]=n.charCodeAt(i);d(o.buffer,e)}else{var r=new XMLHttpRequest;r.open(\"GET\",t,!0),r.withCredentials=e._xhrWithCredentials,r.responseType=\"arraybuffer\",r.onload=function(){var t=(r.status+\"\")[0];\"0\"===t||\"2\"===t||\"3\"===t?d(r.response,e):e._emit(\"loaderror\",null,\"Failed loading audio file with status: \"+r.status+\".\")},r.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},c(r)}},c=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit(\"loaderror\",null,\"Decoding audio data failed.\")},o=function(e){e&&t._sounds.length>0?(l[t._src]=e,_(t,e)):n()};\"undefined\"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(e).then(o).catch(n):r.ctx.decodeAudioData(e,o,n)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),\"loaded\"!==e._state&&(e._state=\"loaded\",e._emit(\"load\"),e._loadQueue())},p=function(){if(r.usingWebAudio){try{\"undefined\"!=typeof AudioContext?r.ctx=new AudioContext:\"undefined\"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(e){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var o=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());(r._navigator&&r._navigator.standalone&&!o||r._navigator&&!r._navigator.standalone&&!o)&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};void 0===(o=function(){return{Howler:r,Howl:s}}.apply(t,[]))||(e.exports=o),t.Howler=r,t.Howl=s,\"undefined\"!=typeof window?(window.HowlerGlobal=i,window.Howler=r,window.Howl=s,window.Sound=a):void 0!==n&&(n.HowlerGlobal=i,n.Howler=r,n.Howl=s,n.Sound=a)}(),\n/*!\n *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.\n *  \n *  howler.js v2.1.3\n *  howlerjs.com\n *\n *  (c) 2013-2019, James Simpson of GoldFire Studios\n *  goldfirestudios.com\n *\n *  MIT License\n */\nfunction(){\"use strict\";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t=\"number\"!=typeof t?this._pos[1]:t,n=\"number\"!=typeof n?this._pos[2]:n,\"number\"!=typeof e?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,n,o,i,r){if(!this.ctx||!this.ctx.listener)return this;var s=this._orientation;return t=\"number\"!=typeof t?s[1]:t,n=\"number\"!=typeof n?s[2]:n,o=\"number\"!=typeof o?s[3]:o,i=\"number\"!=typeof i?s[4]:i,r=\"number\"!=typeof r?s[5]:r,\"number\"!=typeof e?s:(this._orientation=[e,t,n,o,i,r],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(r,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,o,i,r),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:\"inverse\",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:\"HRTF\",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var o=this;if(!o._webAudio)return o;if(\"loaded\"!==o._state)return o._queue.push({event:\"stereo\",action:function(){o.stereo(e,n)}}),o;var i=void 0===Howler.ctx.createStereoPanner?\"spatial\":\"stereo\";if(void 0===n){if(\"number\"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0]}for(var r=o._getSoundIds(n),s=0;s<r.length;s++){var a=o._soundById(r[s]);if(a){if(\"number\"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel=\"equalpower\",a._panner&&a._panner.pan||t(a,i),\"spatial\"===i?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),o._emit(\"stereo\",a._id)}}return o},Howl.prototype.pos=function(e,n,o,i){var r=this;if(!r._webAudio)return r;if(\"loaded\"!==r._state)return r._queue.push({event:\"pos\",action:function(){r.pos(e,n,o,i)}}),r;if(n=\"number\"!=typeof n?0:n,o=\"number\"!=typeof o?-.5:o,void 0===i){if(\"number\"!=typeof e)return r._pos;r._pos=[e,n,o]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var l=r._soundById(s[a]);if(l){if(\"number\"!=typeof e)return l._pos;l._pos=[e,n,o],l._node&&(l._panner&&!l._panner.pan||t(l,\"spatial\"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):l._panner.setPosition(e,n,o)),r._emit(\"pos\",l._id)}}return r},Howl.prototype.orientation=function(e,n,o,i){var r=this;if(!r._webAudio)return r;if(\"loaded\"!==r._state)return r._queue.push({event:\"orientation\",action:function(){r.orientation(e,n,o,i)}}),r;if(n=\"number\"!=typeof n?r._orientation[1]:n,o=\"number\"!=typeof o?r._orientation[2]:o,void 0===i){if(\"number\"!=typeof e)return r._orientation;r._orientation=[e,n,o]}for(var s=r._getSoundIds(i),a=0;a<s.length;a++){var l=r._soundById(s[a]);if(l){if(\"number\"!=typeof e)return l._orientation;l._orientation=[e,n,o],l._node&&(l._panner||(l._pos||(l._pos=r._pos||[0,0,-.5]),t(l,\"spatial\")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,o)),r._emit(\"orientation\",l._id)}}return r},Howl.prototype.pannerAttr=function(){var e,n,o,i=this,r=arguments;if(!i._webAudio)return i;if(0===r.length)return i._pannerAttr;if(1===r.length){if(\"object\"!=typeof r[0])return(o=i._soundById(parseInt(r[0],10)))?o._pannerAttr:i._pannerAttr;e=r[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var s=i._getSoundIds(n),a=0;a<s.length;a++)if(o=i._soundById(s[a])){var l=o._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var u=o._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(o._pos||(o._pos=i._pos||[0,0,-.5]),t(o,\"spatial\"))}return i},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){\"spatial\"===(t=t||\"spatial\")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";n.r(t);class o{constructor(){this.l=25,this.h=25,this.graphA=0,this.graphB=0,this.graphC=0,this.graphD=0}linePiece(){this.xA=4,this.yA=1,this.xB=5,this.yB=1,this.xC=6,this.yC=1,this.xD=7,this.yD=1,this.posState=1,this.color=\"lightblue\",this.type=\"line\",this.code=0}lPiece(){this.xA=6,this.yA=1,this.xB=6,this.yB=2,this.xC=5,this.yC=2,this.xD=4,this.yD=2,this.posState=1,this.color=\"green\",this.type=\"l\",this.code=1}jPiece(){this.xA=4,this.yA=1,this.xB=4,this.yB=2,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color=\"blue\",this.type=\"j\",this.code=2}sPiece(){this.xA=6,this.yA=1,this.xB=5,this.yB=1,this.xC=5,this.yC=2,this.xD=4,this.yD=2,this.posState=1,this.color=\"yellow\",this.type=\"s\",this.code=3}zPiece(){this.xA=4,this.yA=1,this.xB=5,this.yB=1,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color=\"red\",this.type=\"z\",this.code=4}tPiece(){this.xA=5,this.yA=1,this.xB=4,this.yB=2,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color=\"purple\",this.type=\"t\",this.code=5}squarePiece(){this.xA=5,this.yA=1,this.xB=6,this.yB=1,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color=\"orange\",this.type=\"square\",this.code=6}getXAPixels(){return 25*(this.xA-1)}getYAPixels(){return 25*this.yA}getXBPixels(){return 25*(this.xB-1)}getYBPixels(){return 25*this.yB}getXCPixels(){return 25*(this.xC-1)}getYCPixels(){return 25*this.yC}getXDPixels(){return 25*(this.xD-1)}getYDPixels(){return 25*this.yD}}var i=n(0);const r=(e,t)=>!(!t[e.xA][e.yA+1].includes(\"bottom\")&&!t[e.xA][e.yA+1].includes(\"block\"))||(!(!t[e.xB][e.yB+1].includes(\"bottom\")&&!t[e.xB][e.yB+1].includes(\"block\"))||(!(!t[e.xC][e.yC+1].includes(\"bottom\")&&!t[e.xC][e.yC+1].includes(\"block\"))||(!(!t[e.xD][e.yD+1].includes(\"bottom\")&&!t[e.xD][e.yD+1].includes(\"block\"))||void 0))),s=(e,t)=>{t[e.xA][e.yA]=`block ${e.color}`,t[e.xB][e.yB]=`block ${e.color}`,t[e.xC][e.yC]=`block ${e.color}`,t[e.xD][e.yD]=`block ${e.color}`},a=(e,t)=>{const n=document.getElementById(\"stage\"),o=n.getContext(\"2d\");let i;o.clearRect(0,0,n.width,n.height),o.drawImage(t.background,0,0,250,420);for(let n=0;n<11;n++)for(let r=4;r<24;r++)(e[n][r].includes(\"block\")||e[n][r].includes(\"1\"))&&(e[n][r].includes(\"lightblue\")?i=t.lightblueBlock:e[n][r].includes(\"green\")?i=t.greenBlock:e[n][r].includes(\"blue\")?i=t.blueBlock:e[n][r].includes(\"yellow\")?i=t.yellowBlock:e[n][r].includes(\"red\")?i=t.redBlock:e[n][r].includes(\"purple\")?i=t.purpleBlock:e[n][r].includes(\"orange\")&&(i=t.orangeBlock),o.drawImage(i,25*(n-1),25*(r-4),25,25))},l=(e,t)=>{const n=document.getElementById(\"stage\").getContext(\"2d\");n.drawImage(t.clearBlock,e.getXAPixels(),e.graphA-100,25,25),n.drawImage(t.clearBlock,e.getXBPixels(),e.graphB-100,25,25),n.drawImage(t.clearBlock,e.getXCPixels(),e.graphC-100,25,25),n.drawImage(t.clearBlock,e.getXDPixels(),e.graphD-100,25,25)},u=(e,t,n,o)=>{let i;if(1===o){i=n?document.getElementById(\"reservePiece\"):document.getElementById(\"nextPiece\");const o=i.getContext(\"2d\");o.clearRect(0,0,i.width,i.height),0===t?o.drawImage(e.lineBlock,14,53,100,25):1===t?o.drawImage(e.lBlock,30,39,75,50):2===t?o.drawImage(e.jBlock,30,39,75,50):3===t?o.drawImage(e.sBlock,30,39,75,50):4===t?o.drawImage(e.zBlock,30,39,75,50):5===t?o.drawImage(e.tBlock,30,39,75,50):6===t&&o.drawImage(e.squareBlock,42,39,50,50)}else{i=document.getElementById(`nextPiece${o}`);const n=i.getContext(\"2d\");n.clearRect(0,0,i.width,i.height),0===t?n.drawImage(e.lineBlock,8,30,57,14):1===t?n.drawImage(e.lBlock,17,22,43,29):2===t?n.drawImage(e.jBlock,17,22,43,29):3===t?n.drawImage(e.sBlock,17,22,43,29):4===t?n.drawImage(e.zBlock,17,22,43,29):5===t?n.drawImage(e.tBlock,17,22,43,29):6===t&&n.drawImage(e.squareBlock,24,22,29,29)}},c=e=>{document.querySelector(\"#points\").textContent=e.totalPoints,document.querySelector(\"#gameLevel\").textContent=e.level,document.querySelector(\"#linesCleared\").textContent=e.linesCompleted,document.querySelector(\"#highScore\").textContent=e.highScore,document.querySelector(\"#highScoreMenu\").textContent=`High Score: ${e.highScore}`},d=()=>{let e;e=document.getElementById(\"reservePiece\");let t=e.getContext(\"2d\");t.clearRect(0,0,e.width,e.height),e=document.getElementById(\"nextPiece\"),t=e.getContext(\"2d\"),t.clearRect(0,0,e.width,e.height)},_=e=>{\"game\"===e?(document.querySelector(\".menu\").style.display=\"none\",document.querySelector(\".game\").style.display=\"grid\"):\"menu\"===e&&(document.querySelector(\".menu\").style.display=\"grid\",document.querySelector(\".game\").style.display=\"none\")},p=e=>{document.querySelector(\"#levelSet\").textContent=e.levelSetter},h=new class{constructor(){this.sqSize=25}fallMovement(e){return e.yA=e.yA+1,e.yB=e.yB+1,e.yC=e.yC+1,e.yD=e.yD+1,e}inputMovement(e,t){return\"ArrowRight\"===t?(e.xA=e.xA+1,e.xB=e.xB+1,e.xC=e.xC+1,e.xD=e.xD+1):\"ArrowLeft\"===t?(e.xA=e.xA-1,e.xB=e.xB-1,e.xC=e.xC-1,e.xD=e.xD-1):\"ArrowDown\"===t&&(e.yA=e.yA+1,e.yB=e.yB+1,e.yC=e.yC+1,e.yD=e.yD+1),e}instantDrop(e,t,n,o){let i=0,r=0,s=0,a=0;for(let n=0;n<25;n++)(n>e.yA&&t[e.xA][n].includes(\"block\")||t[e.xA][n].includes(\"bottom\"))&&(i>n||0===i?i=n:n=n),(n>e.yB&&t[e.xB][n].includes(\"block\")||t[e.xB][n].includes(\"bottom\"))&&(r>n||0===r?r=n:n=n),(n>e.yC&&t[e.xC][n].includes(\"block\")||t[e.xC][n].includes(\"bottom\"))&&(s>n||0===s?s=n:n=n),(n>e.yD&&t[e.xD][n].includes(\"block\")||t[e.xD][n].includes(\"bottom\"))&&(a>n||0===a?a=n:n=n);const l=Math.min(i-e.yA-1,r-e.yB-1,s-e.yC-1,a-e.yD-1);return n?(e.graphA=e.getYAPixels()+25*l,e.graphB=e.getYBPixels()+25*l,e.graphC=e.getYCPixels()+25*l,e.graphD=e.getYDPixels()+25*l):(o.drop=l,e.yA=e.yA+l,e.yB=e.yB+l,e.yC=e.yC+l,e.yD=e.yD+l),e}leftRotation(e){let t;if(t=1===e.posState||2===e.posState?1:-1,\"line\"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA+t,e.yA=e.yA+2*t,e.yB=e.yB+t,e.xC=e.xC-t,e.xD=e.xD-2*t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+2*t,e.yA=e.yA-t,e.xB=e.xB+t,e.yC=e.yC+t,e.xD=e.xD-t,e.yD=e.yD+2*t,4===e.posState?e.posState=1:e.posState++,e}else if(\"l\"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA-2*t,e.xB=e.xB-t,e.yB=e.yB-t,e.xD=e.xD+t,e.yD=e.yD+t,e.posState++,e;case 2:case 4:return e.yA=e.yA+2*t,e.xB=e.xB-t,e.yB=e.yB+t,e.xD=e.xD+t,e.yD=e.yD-t,4===e.posState?e.posState=1:e.posState++,e}else if(\"j\"===e.type)switch(e.posState){case 1:case 3:return e.yA=e.yA+2*t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+2*t,e.xB=e.xB+t,e.yB=e.yB-t,e.xD=e.xD-t,e.yD=e.yD+t,4===e.posState?e.posState=1:e.posState++,e}else if(\"s\"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA-2*t,e.xB=e.xB-t,e.yB=e.yB+t,e.xD=e.xD+t,e.yD=e.yD+t,e.posState++,e;case 2:case 4:return e.yA=e.yA+2*t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD+t,e.yD=e.yD-t,4===e.posState?e.posState=1:e.posState++,e}else if(\"z\"===e.type)switch(e.posState){case 1:case 3:return e.yA=e.yA+2*t,e.xB=e.xB-t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+2*t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD+t,4===e.posState?e.posState=1:e.posState++,e}else if(\"t\"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA-t,e.yA=e.yA+t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+t,e.yA=e.yA+t,e.xB=e.xB+t,e.yB=e.yB-t,e.xD=e.xD-t,e.yD=e.yD+t,4===e.posState?e.posState=1:e.posState++,e}}};let f,m,y,g,v,x,A,w,b,B=new o,k=new o,S=new class{constructor(){this.stageMatrix=[]}setMatrix(){for(let e=0;e<12;e++){this.stageMatrix[e]=[];for(let t=0;t<25;t++)this.stageMatrix[e][t]=0===e||11===e?\"wall\":24===t?\"bottom\":\"0\"}}loadPosition(e){this.stageMatrix[e.xA][e.yA]=`1 ${e.color}`,this.stageMatrix[e.xB][e.yB]=`1 ${e.color}`,this.stageMatrix[e.xC][e.yC]=`1 ${e.color}`,this.stageMatrix[e.xD][e.yD]=`1 ${e.color}`}erasePosition(e){this.stageMatrix[e.xA][e.yA]=\"0\",this.stageMatrix[e.xB][e.yB]=\"0\",this.stageMatrix[e.xC][e.yC]=\"0\",this.stageMatrix[e.xD][e.yD]=\"0\"}lineCompletion(e,t){let n=[],o=[];t.linesCleared=0;for(let o=24;o>4;o--){let i=0;for(let r=1;r<11;r++)e[r][o].includes(\"block\")&&i<10&&i++,10===i&&(n.push(o),t.linesCleared++,t.linesCompleted++)}if(t.comboEnded(),0!==n.length){for(let e=0;e<25;e++)o[e]=e;n.map(e=>{for(let t=0;t<25;t++)t===e&&(o[t]=0)}),o.sort((e,t)=>e-t);for(let t=24;t>4;t--)for(let n=0;n<11;n++)e[n][t]=e[n][o[t]];t.combo++}}isGameOver(e,t,n){let o=!1;for(let i=1;i<11;i++)e[i][3].includes(\"block\")&&(n.stop(),t[12].play(),o=!0);return o}},T=new class{constructor(){this.background=new Image,this.redBlock=new Image,this.blueBlock=new Image,this.greenBlock=new Image,this.orangeBlock=new Image,this.lightblueBlock=new Image,this.purpleBlock=new Image,this.yellowBlock=new Image,this.clearBlock=new Image,this.lineBlock=new Image,this.lBlock=new Image,this.jBlock=new Image,this.sBlock=new Image,this.zBlock=new Image,this.tBlock=new Image,this.squareBlock=new Image,this.background.src=\"img/gameBackground.png\",this.redBlock.src=\"img/redBlock.png\",this.blueBlock.src=\"img/blueBlock.png\",this.greenBlock.src=\"img/greenBlock.png\",this.orangeBlock.src=\"img/orangeBlock.png\",this.lightblueBlock.src=\"img/lightblueBlock.png\",this.purpleBlock.src=\"img/purpleBlock.png\",this.yellowBlock.src=\"img/yellowBlock.png\",this.clearBlock.src=\"img/clearBlock.png\",this.lineBlock.src=\"img/lineBlock.png\",this.lBlock.src=\"img/lBlock.png\",this.jBlock.src=\"img/jBlock.png\",this.sBlock.src=\"img/sBlock.png\",this.zBlock.src=\"img/zBlock.png\",this.tBlock.src=\"img/tBlock.png\",this.squareBlock.src=\"img/squareBlock.png\"}},D=new class{constructor(){this.highScore=0,this.levelSetter=0}setStart(){this.linesCleared=0,this.linesCompleted=0,this.combo=0,this.gameSpeed=1e3,this.totalPoints=0,this.level=0,this.drop=0}comboEnded(){this.linesCleared>0?this.combo=this.combo:this.combo=0}scoredPoints(e){switch(this.linesCleared){case 1:this.totalPoints=this.totalPoints+40*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e[1].play();break;case 2:this.totalPoints=this.totalPoints+100*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e[2].play();break;case 3:this.totalPoints=this.totalPoints+130*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e[3].play();break;case 4:this.totalPoints=this.totalPoints+1200*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e[4].play()}this.highScore<this.totalPoints&&(this.highScore=this.totalPoints)}gameLevel(){this.level=Math.floor(this.linesCompleted/10)+this.levelSetter,this.gameSpeed=1e3/(1+.333*this.level)}},I=[new i.Howl({src:[\"../sound/hardDrop.wav\"],volume:.8,preload:!0}),new i.Howl({src:[\"../sound/line.wav\"],preload:!0}),new i.Howl({src:[\"../sound/double.wav\"],preload:!0}),new i.Howl({src:[\"../sound/triple.wav\"],preload:!0}),new i.Howl({src:[\"../sound/quad.wav\"],preload:!0}),new i.Howl({src:[\"../sound/hold.wav\"],volume:.3,preload:!0}),new i.Howl({src:[\"../sound/startTetris.wav\"],preload:!0,volume:.8}),new i.Howl({src:[\"../sound/restart.wav\"],volume:.8,preload:!0}),new i.Howl({src:[\"../sound/quit.wav\"],volume:.8,preload:!0}),new i.Howl({src:[\"../sound/drop.wav\"],volume:.4,preload:!0}),new i.Howl({src:[\"../sound/setLevel.wav\"],preload:!0}),new i.Howl({src:[\"../sound/move.wav\"],volume:.2,preload:!0}),new i.Howl({src:[\"../sound/gameOver.wav\"],volume:.25,preload:!0})],P=new i.Howl({src:[\"../sound/tetrisMusic.mp3\"],loop:!0,preload:!0,volume:.8}),M=new i.Howl({src:[\"../sound/tetrisMenuMusic.mp3\"],loop:!0,preload:!0,autoplay:!0,volume:.6}),C=!1,H=!1,O=!1,L=!1,E=!1;const F=()=>{if(O)(()=>{const e=document.getElementById(\"stage\"),t=e.getContext(\"2d\");t.font=\"26px EightBit\",t.fillStyle=\"White\",t.textAlign=\"center\",t.fillText(\"GAME OVER\",e.width/2,e.height/2),t.strokeText(\"GAME OVER\",e.width/2,e.height/2)})();else{switch(C&&7!==v?g=v:(g=x,x=A,A=w,w=b,b=Math.floor(7*Math.random()),u(T,x,C,1),u(T,A,C,2),u(T,w,C,3),u(T,b,C,4)),C=!1,g){case 0:B.linePiece(),k.linePiece();break;case 1:B.lPiece(),k.lPiece();break;case 2:B.jPiece(),k.jPiece();break;case 3:B.sPiece(),k.sPiece();break;case 4:B.zPiece(),k.zPiece();break;case 5:B.tPiece(),k.tPiece();break;case 6:B.squarePiece(),k.squarePiece()}a(S.stageMatrix,T),B=h.instantDrop(B,S.stageMatrix,!0),l(B,T),G()}},G=()=>{let e=!1;m=setTimeout((function(){r(B,S.stageMatrix)?(I[9].play(),s(B,S.stageMatrix),H=!1,e=!0,clearInterval(m),S.lineCompletion(S.stageMatrix,D),D.scoredPoints(),O=S.isGameOver(S.stageMatrix,I,P),a(S.stageMatrix,T),D.gameLevel(),c(D),F()):(S.erasePosition(B),B=h.fallMovement(B),S.loadPosition(B),u(T,x,C,1),u(T,A,C,2),u(T,w,C,3),u(T,b,C,4),a(S.stageMatrix,T),B=h.instantDrop(B,S.stageMatrix,!0),l(B,T),G())}),D.gameSpeed)};document.addEventListener(\"keydown\",(function(e){f=e.code,O||(\"ShiftLeft\"!==f||H||(I[5].play(),C=!0,H=!0,v=y,y=g,u(T,y,C,1),S.erasePosition(B),clearInterval(m),a(S.stageMatrix,T),7===v&&(C=!1),F()),\"Space\"!==f||E||L||(I[0].play(),S.erasePosition(B),B=h.instantDrop(B,S.stageMatrix,!1,D),S.loadPosition(B),s(B,S.stageMatrix),clearInterval(m),S.lineCompletion(S.stageMatrix,D),D.scoredPoints(I),O=S.isGameOver(S.stageMatrix,I,P),H=!1,a(S.stageMatrix,T),D.gameLevel(),c(D),F()),\"ArrowUp\"===f&&\"square\"!==B.type&&(((e,t)=>{let n,o=e.xA,i=e.yA,r=e.xB,s=e.yB,a=e.xC,l=e.yC,u=e.xD,c=e.yD;if(n=1===e.posState||2===e.posState?1:-1,\"line\"===e.type)switch(e.posState){case 1:case 3:o+=n,i+=2*n,s+=n,a-=n,u-=2*n,c-=n;break;case 2:case 4:o+=2*n,i-=n,r+=n,l+=n,u-=n,c+=2*n}else if(\"l\"===e.type)switch(e.posState){case 1:case 3:o-=2*n,r-=n,s-=n,u+=n,c+=n;break;case 2:case 4:i+=2*n,r-=n,s+=n,u+=n,c-=n}else if(\"j\"===e.type)switch(e.posState){case 1:case 3:i+=2*n,r+=n,s+=n,u-=n,c-=n;break;case 2:case 4:o+=2*n,r+=n,s-=n,u-=n,c+=n}else if(\"s\"===e.type)switch(e.posState){case 1:case 3:o-=2*n,r-=n,s+=n,u+=n,c+=n;break;case 2:case 4:i+=2*n,r+=n,s+=n,u+=n,c-=n}else if(\"z\"===e.type)switch(e.posState){case 1:case 3:i+=2*n,r-=n,s+=n,u-=n,c-=n;break;case 2:case 4:o+=2*n,r+=n,s+=n,u-=n,c+=n}else if(\"t\"===e.type)switch(e.posState){case 1:case 3:o-=n,i+=n,r+=n,s+=n,u-=n,c-=n;break;case 2:case 4:o+=n,i+=n,r+=n,s-=n,u-=n,c+=n}return!!(t[o][i].includes(\"block\")||t[o][i].includes(\"bottom\")||t[o][i].includes(\"wall\")||null===t[o][i])||(!!(t[r][s].includes(\"block\")||t[r][s].includes(\"bottom\")||t[r][s].includes(\"wall\")||null===t[r][s])||(!!(t[a][l].includes(\"block\")||t[a][l].includes(\"bottom\")||t[a][l].includes(\"wall\")||null===t[a][l])||(!!(t[u][c].includes(\"block\")||t[u][c].includes(\"bottom\")||t[u][c].includes(\"wall\")||null===t[u][c])||void 0)))})(B,S.stageMatrix)||(S.erasePosition(B),B=h.instantDrop(B,S.stageMatrix,!0),B=h.leftRotation(B),S.loadPosition(B),a(S.stageMatrix,T),l(B,T))),((e,t,n)=>{if(\"ArrowLeft\"===t){if(n[e.xA-1][e.yA].includes(\"wall\")||n[e.xA-1][e.yA].includes(\"block\")||n[e.xB-1][e.yB].includes(\"wall\")||n[e.xB-1][e.yB].includes(\"block\")||n[e.xC-1][e.yC].includes(\"wall\")||n[e.xC-1][e.yC].includes(\"block\")||n[e.xD-1][e.yD].includes(\"wall\")||n[e.xD-1][e.yD].includes(\"block\"))return!0}else if(\"ArrowRight\"===t&&(n[e.xA+1][e.yA].includes(\"wall\")||n[e.xA+1][e.yA].includes(\"block\")||n[e.xB+1][e.yB].includes(\"wall\")||n[e.xB+1][e.yB].includes(\"block\")||n[e.xC+1][e.yC].includes(\"wall\")||n[e.xC+1][e.yC].includes(\"block\")||n[e.xD+1][e.yD].includes(\"wall\")||n[e.xD+1][e.yD].includes(\"block\")))return!0})(B,f,S.stageMatrix)||\"Space\"===f||E||L||(I[11].play(),S.erasePosition(B),\"ArrowDown\"===f&&r(B,S.stageMatrix)||(B=h.inputMovement(B,f)),B=h.instantDrop(B,S.stageMatrix,!0),S.loadPosition(B),a(S.stageMatrix,T),l(B,T)),\"Enter\"===f&&(clearInterval(m),q()))}));const q=function(){P.play(),O=!1,S.setMatrix(),D.setStart(),D.gameLevel(),y=7,v=7,x=Math.floor(7*Math.random()),A=Math.floor(7*Math.random()),w=Math.floor(7*Math.random()),b=Math.floor(7*Math.random()),d(),clearInterval(m),c(D),a(S.stageMatrix,T),F()};document.querySelector(\"#restart\").addEventListener(\"click\",(function(){E||L||(L=!0,E=!0,d(),clearInterval(m),I[7].play(),P.stop(),setTimeout((function(){q(),L=!1,E=!1}),1500))})),document.querySelector(\"#startGame\").addEventListener(\"click\",(function(){E||L||(E=!0,_(\"game\"),d(),I[6].play(),M.stop(),setTimeout((function(){q(),E=!1}),1500))})),document.querySelector(\"#quit\").addEventListener(\"click\",(function(){E||L||(E=!0,I[8].play(),P.stop(),clearInterval(m),_(\"menu\"),setTimeout((function(){M.play(),E=!1}),1500))})),document.querySelector(\"#arrowUp\").addEventListener(\"click\",(function(){I[10].play(),D.levelSetter++,p(D)})),document.querySelector(\"#arrowDown\").addEventListener(\"click\",(function(){D.levelSetter>0&&(I[10].play(),D.levelSetter--,p(D))}))}]);","extractedComments":[]}