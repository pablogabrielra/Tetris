!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2)}([function(e,t,o){(function(o){var n;
/*!
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var r=function(){this.init()};r.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||h(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var n=t._howls[o]._getSoundIds(),r=0;r<n.length;r++){var s=t._howls[o]._soundById(n[r]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||h(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var o=0;o<t._howls.length;o++)if(!t._howls[o]._webAudio)for(var n=t._howls[o]._getSoundIds(),r=0;r<n.length;r++){var s=t._howls[o]._soundById(n[r]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,h()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var o=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),r=n&&parseInt(n[0].split("/")[1],10)<33;return e._codecs={mp3:!(r||!o&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!o,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(o){for(var n=0;n<e.html5PoolSize;n++)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(o){e.noAudio=!0}for(n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var i=e._howls[n]._getSoundIds(),s=0;s<i.length;s++){var a=e._howls[n]._soundById(i[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0);for(var o=0;o<e._howls.length;o++)e._howls[o]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var o=0;o<e._howls[t]._sounds.length;o++)if(!e._howls[t]._sounds[o]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then((function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())})))}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new r,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return i.ctx||h(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhrWithCredentials=e.xhrWithCredentials||!1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t.load(),t},load:function(){var e=null;if(i.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var t=0;t<this._src.length;t++){var o,n;if(this._format&&this._format[t])o=this._format[t];else{if("string"!=typeof(n=this._src[t])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(o=/^data:audio\/([^;,]+);/i.exec(n))||(o=/\.([^.]+)$/.exec(n.split("?",1)[0])),o&&(o=o[1].toLowerCase())}if(o||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),o&&i.codecs(o)){e=this._src[t];break}}if(e)return this._src=e,this._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new a(this),this._webAudio&&u(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var o=this,n=null;if("number"==typeof e)n=e,e=null;else{if("string"==typeof e&&"loaded"===o._state&&!o._sprite[e])return null;if(void 0===e&&(e="__default",!o._playLock)){for(var r=0,s=0;s<o._sounds.length;s++)o._sounds[s]._paused&&!o._sounds[s]._ended&&(r++,n=o._sounds[s]._id);1===r?e=null:n=null}}var a=n?o._soundById(n):o._inactiveSound();if(!a)return null;if(n&&!e&&(e=a._sprite||"__default"),"loaded"!==o._state){a._sprite=e,a._ended=!1;var l=a._id;return o._queue.push({event:"play",action:function(){o.play(l)}}),l}if(n&&!a._paused)return t||o._loadQueue("play"),a._id;o._webAudio&&i._autoResume();var u=Math.max(0,a._seek>0?a._seek:o._sprite[e][0]/1e3),c=Math.max(0,(o._sprite[e][0]+o._sprite[e][1])/1e3-u),d=1e3*c/Math.abs(a._rate),_=o._sprite[e][0]/1e3,h=(o._sprite[e][0]+o._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var p=function(){a._paused=!1,a._seek=u,a._start=_,a._stop=h,a._loop=!(!a._loop&&!o._sprite[e][2])};if(!(u>=h)){var f=a._node;if(o._webAudio){var m=function(){o._playLock=!1,p(),o._refreshBuffer(a);var e=a._muted||o._muted?0:a._volume;f.gain.setValueAtTime(e,i.ctx.currentTime),a._playStart=i.ctx.currentTime,void 0===f.bufferSource.start?a._loop?f.bufferSource.noteGrainOn(0,u,86400):f.bufferSource.noteGrainOn(0,u,c):a._loop?f.bufferSource.start(0,u,86400):f.bufferSource.start(0,u,c),d!==1/0&&(o._endTimers[a._id]=setTimeout(o._ended.bind(o,a),d)),t||setTimeout((function(){o._emit("play",a._id),o._loadQueue()}),0)};"running"===i.state?m():(o._playLock=!0,o.once("resume",m),o._clearTimer(a._id))}else{var y=function(){f.currentTime=u,f.muted=a._muted||o._muted||i._muted||f.muted,f.volume=a._volume*i.volume(),f.playbackRate=a._rate;try{var n=f.play();if(n&&"undefined"!=typeof Promise&&(n instanceof Promise||"function"==typeof n.then)?(o._playLock=!0,p(),n.then((function(){o._playLock=!1,f._unlocked=!0,t||(o._emit("play",a._id),o._loadQueue())})).catch((function(){o._playLock=!1,o._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):t||(o._playLock=!1,p(),o._emit("play",a._id),o._loadQueue()),f.playbackRate=a._rate,f.paused)return void o._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||a._loop?o._endTimers[a._id]=setTimeout(o._ended.bind(o,a),d):(o._endTimers[a._id]=function(){o._ended(a),f.removeEventListener("ended",o._endTimers[a._id],!1)},f.addEventListener("ended",o._endTimers[a._id],!1))}catch(e){o._emit("playerror",a._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===f.src&&(f.src=o._src,f.load());var g=window&&window.ejecta||!f.readyState&&i._navigator.isCocoonJS;if(f.readyState>=3||g)y();else{o._playLock=!0;var v=function(){y(),f.removeEventListener(i._canPlayEvent,v,!1)};f.addEventListener(i._canPlayEvent,v,!1),o._clearTimer(a._id)}}return a._id}o._ended(a)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var o=t._getSoundIds(e),n=0;n<o.length;n++){t._clearTimer(o[n]);var r=t._soundById(o[n]);if(r&&!r._paused&&(r._seek=t.seek(o[n]),r._rateSeek=0,r._paused=!0,t._stopFade(o[n]),r._node))if(t._webAudio){if(!r._node.bufferSource)continue;void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),t._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||t._emit("pause",r?r._id:null)}return t},stop:function(e,t){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"stop",action:function(){o.stop(e)}}),o;for(var n=o._getSoundIds(e),r=0;r<n.length;r++){o._clearTimer(n[r]);var i=o._soundById(n[r]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,o._stopFade(n[r]),i._node&&(o._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),o._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&o._clearSound(i._node))),t||o._emit("stop",i._id))}return o},mute:function(e,t){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"mute",action:function(){o.mute(e,t)}}),o;if(void 0===t){if("boolean"!=typeof e)return o._muted;o._muted=e}for(var n=o._getSoundIds(t),r=0;r<n.length;r++){var s=o._soundById(n[r]);s&&(s._muted=e,s._interval&&o._stopFade(s._id),o._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,i.ctx.currentTime):s._node&&(s._node.muted=!!i._muted||e),o._emit("mute",s._id))}return o},volume:function(){var e,t,o,n=this,r=arguments;if(0===r.length)return n._volume;if(1===r.length||2===r.length&&void 0===r[1]){var s=n._getSoundIds(),a=s.indexOf(r[0]);a>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else r.length>=2&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(!(void 0!==e&&e>=0&&e<=1))return(o=t?n._soundById(t):n._sounds[0])?o._volume:0;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;void 0===t&&(n._volume=e),t=n._getSoundIds(t);for(var l=0;l<t.length;l++)(o=n._soundById(t[l]))&&(o._volume=e,r[2]||n._stopFade(t[l]),n._webAudio&&o._node&&!o._muted?o._node.gain.setValueAtTime(e,i.ctx.currentTime):o._node&&!o._muted&&(o._node.volume=e*i.volume()),n._emit("volume",o._id));return n},fade:function(e,t,o,n){var r=this;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"fade",action:function(){r.fade(e,t,o,n)}}),r;e=parseFloat(e),t=parseFloat(t),o=parseFloat(o),r.volume(e,n);for(var s=r._getSoundIds(n),a=0;a<s.length;a++){var l=r._soundById(s[a]);if(l){if(n||r._stopFade(s[a]),r._webAudio&&!l._muted){var u=i.ctx.currentTime,c=u+o/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(t,c)}r._startFadeInterval(l,e,t,o,s[a],void 0===n)}}return r},_startFadeInterval:function(e,t,o,n,r,i){var s=this,a=t,l=o-t,u=Math.abs(l/.01),c=Math.max(4,u>0?n/u:n),d=Date.now();e._fadeTo=o,e._interval=setInterval((function(){var r=(Date.now()-d)/n;d=Date.now(),a+=l*r,a=Math.max(0,a),a=Math.min(1,a),a=Math.round(100*a)/100,s._webAudio?e._volume=a:s.volume(a,e._id,!0),i&&(s._volume=a),(o<t&&a<=o||o>t&&a>=o)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(o,e._id),s._emit("fade",e._id))}),c)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,o,n=this,r=arguments;if(0===r.length)return n._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(o=n._soundById(parseInt(r[0],10)))&&o._loop;e=r[0],n._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var i=n._getSoundIds(t),s=0;s<i.length;s++)(o=n._soundById(i[s]))&&(o._loop=e,n._webAudio&&o._node&&o._node.bufferSource&&(o._node.bufferSource.loop=e,e&&(o._node.bufferSource.loopStart=o._start||0,o._node.bufferSource.loopEnd=o._stop)));return n},rate:function(){var e,t,o,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){var s=n._getSoundIds(),a=s.indexOf(r[0]);a>=0?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("number"!=typeof e)return(o=n._soundById(t))?o._rate:n._rate;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(var l=0;l<t.length;l++)if(o=n._soundById(t[l])){n.playing(t[l])&&(o._rateSeek=n.seek(t[l]),o._playStart=n._webAudio?i.ctx.currentTime:o._playStart),o._rate=e,n._webAudio&&o._node&&o._node.bufferSource?o._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):o._node&&(o._node.playbackRate=e);var u=n.seek(t[l]),c=(n._sprite[o._sprite][0]+n._sprite[o._sprite][1])/1e3-u,d=1e3*c/Math.abs(o._rate);!n._endTimers[t[l]]&&o._paused||(n._clearTimer(t[l]),n._endTimers[t[l]]=setTimeout(n._ended.bind(n,o),d)),n._emit("rate",o._id)}return n},seek:function(){var e,t,o=this,n=arguments;if(0===n.length)t=o._sounds[0]._id;else if(1===n.length){var r=o._getSoundIds(),s=r.indexOf(n[0]);s>=0?t=parseInt(n[0],10):o._sounds.length&&(t=o._sounds[0]._id,e=parseFloat(n[0]))}else 2===n.length&&(e=parseFloat(n[0]),t=parseInt(n[1],10));if(void 0===t)return o;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"seek",action:function(){o.seek.apply(o,n)}}),o;var a=o._soundById(t);if(a){if(!("number"==typeof e&&e>=0)){if(o._webAudio){var l=o.playing(t)?i.ctx.currentTime-a._playStart:0,u=a._rateSeek?a._rateSeek-a._seek:0;return a._seek+(u+l*Math.abs(a._rate))}return a._node.currentTime}var c=o.playing(t);c&&o.pause(t,!0),a._seek=e,a._ended=!1,o._clearTimer(t),o._webAudio||!a._node||isNaN(a._node.duration)||(a._node.currentTime=e);var d=function(){o._emit("seek",t),c&&o.play(t,!0)};if(c&&!o._webAudio){var _=function(){o._playLock?setTimeout(_,0):d()};setTimeout(_,0)}else d()}return o},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var o=0;o<this._sounds.length;o++)if(!this._sounds[o]._paused)return!0;return!1},duration:function(e){var t=this._duration,o=this._soundById(e);return o&&(t=this._sprite[o._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,o=0;o<t.length;o++)t[o]._paused||e.stop(t[o]._id),e._webAudio||(e._clearSound(t[o]._node),t[o]._node.removeEventListener("error",t[o]._errorFn,!1),t[o]._node.removeEventListener(i._canPlayEvent,t[o]._loadFn,!1),i._releaseHtml5Audio(t[o]._node)),delete t[o]._node,e._clearTimer(t[o]._id);var n=i._howls.indexOf(e);n>=0&&i._howls.splice(n,1);var r=!0;for(o=0;o<i._howls.length;o++)if(i._howls[o]._src===e._src||e._src.indexOf(i._howls[o]._src)>=0){r=!1;break}return l&&r&&delete l[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,o,n){var r=this["_on"+e];return"function"==typeof t&&r.push(n?{id:o,fn:t,once:n}:{id:o,fn:t}),this},off:function(e,t,o){var n=this["_on"+e],r=0;if("number"==typeof t&&(o=t,t=null),t||o)for(r=0;r<n.length;r++){var i=o===n[r].id;if(t===n[r].fn&&i||!t&&i){n.splice(r,1);break}}else if(e)this["_on"+e]=[];else{var s=Object.keys(this);for(r=0;r<s.length;r++)0===s[r].indexOf("_on")&&Array.isArray(this[s[r]])&&(this[s[r]]=[])}return this},once:function(e,t,o){return this.on(e,t,o,1),this},_emit:function(e,t,o){for(var n=this["_on"+e],r=n.length-1;r>=0;r--)n[r].id&&n[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,o)}.bind(this,n[r].fn),0),n[r].once&&this.off(e,n[r].fn,n[r].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var o=!(!e._loop&&!this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&o&&this.stop(e._id,!0).play(e._id),this._webAudio&&o){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var n=1e3*(e._stop-e._start)/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),n)}return this._webAudio&&!o&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),i._autoSuspend()),this._webAudio||o||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this._pool,t=0,o=0;if(!(this._sounds.length<e)){for(o=0;o<this._sounds.length;o++)this._sounds[o]._ended&&t++;for(o=this._sounds.length-1;o>=0;o--){if(t<=e)return;this._sounds[o]._ended&&(this._webAudio&&this._sounds[o]._node&&this._sounds[o]._node.disconnect(0),this._sounds.splice(o,1),t--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],o=0;o<this._sounds.length;o++)t.push(this._sounds[o]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=i._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),this._node.gain.setValueAtTime(t,i.ctx.currentTime),this._node.paused=!0,this._node.connect(i.masterGain)):i.noAudio||(this._node=i._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(i._canPlayEvent,this._loadFn,!1),this._node.src=e._src,this._node.preload="auto",this._node.volume=t*i.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++i._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(i._canPlayEvent,this._loadFn,!1)}};var l={},u=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void _(e);if(/^data:[^;]+;base64,/.test(t)){for(var o=atob(t.split(",")[1]),n=new Uint8Array(o.length),r=0;r<o.length;++r)n[r]=o.charCodeAt(r);d(n.buffer,e)}else{var i=new XMLHttpRequest;i.open("GET",t,!0),i.withCredentials=e._xhrWithCredentials,i.responseType="arraybuffer",i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},c(i)}},c=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var o=function(){t._emit("loaderror",null,"Decoding audio data failed.")},n=function(e){e&&t._sounds.length>0?(l[t._src]=e,_(t,e)):o()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(n).catch(o):i.ctx.decodeAudioData(e,n,o)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},h=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),o=t?parseInt(t[1],10):null;if(e&&o&&o<9){var n=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());(i._navigator&&i._navigator.standalone&&!n||i._navigator&&!i._navigator.standalone&&!n)&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(n=function(){return{Howler:i,Howl:s}}.apply(t,[]))||(e.exports=n),t.Howler=i,t.Howl=s,"undefined"!=typeof window?(window.HowlerGlobal=r,window.Howler=i,window.Howl=s,window.Sound=a):void 0!==o&&(o.HowlerGlobal=r,o.Howler=i,o.Howl=s,o.Sound=a)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.1.3
 *  howlerjs.com
 *
 *  (c) 2013-2019, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,o){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,o="number"!=typeof o?this._pos[2]:o,"number"!=typeof e?this._pos:(this._pos=[e,t,o],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(e,t,o,n,r,i){if(!this.ctx||!this.ctx.listener)return this;var s=this._orientation;return t="number"!=typeof t?s[1]:t,o="number"!=typeof o?s[2]:o,n="number"!=typeof n?s[3]:n,r="number"!=typeof r?s[4]:r,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(this._orientation=[e,t,o,n,r,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,o,n,r,i),this)},Howl.prototype.init=(e=Howl.prototype.init,function(t){return this._orientation=t.orientation||[1,0,0],this._stereo=t.stereo||null,this._pos=t.pos||null,this._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},this._onstereo=t.onstereo?[{fn:t.onstereo}]:[],this._onpos=t.onpos?[{fn:t.onpos}]:[],this._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,o){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,o)}}),n;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===o){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var i=n._getSoundIds(o),s=0;s<i.length;s++){var a=n._soundById(i[s]);if(a){if("number"!=typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,r),"spatial"===r?void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",a._id)}}return n},Howl.prototype.pos=function(e,o,n,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,o,n,r)}}),i;if(o="number"!=typeof o?0:o,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof e)return i._pos;i._pos=[e,o,n]}for(var s=i._getSoundIds(r),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l){if("number"!=typeof e)return l._pos;l._pos=[e,o,n],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):l._panner.setPosition(e,o,n)),i._emit("pos",l._id)}}return i},Howl.prototype.orientation=function(e,o,n,r){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,o,n,r)}}),i;if(o="number"!=typeof o?i._orientation[1]:o,n="number"!=typeof n?i._orientation[2]:n,void 0===r){if("number"!=typeof e)return i._orientation;i._orientation=[e,o,n]}for(var s=i._getSoundIds(r),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l){if("number"!=typeof e)return l._orientation;l._orientation=[e,o,n],l._node&&(l._panner||(l._pos||(l._pos=i._pos||[0,0,-.5]),t(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):l._panner.setOrientation(e,o,n)),i._emit("orientation",l._id)}}return i},Howl.prototype.pannerAttr=function(){var e,o,n,r=this,i=arguments;if(!r._webAudio)return r;if(0===i.length)return r._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(n=r._soundById(parseInt(i[0],10)))?n._pannerAttr:r._pannerAttr;e=i[0],void 0===o&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),r._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:r._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:r._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:r._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:r._panningModel})}else 2===i.length&&(e=i[0],o=parseInt(i[1],10));for(var s=r._getSoundIds(o),a=0;a<s.length;a++)if(n=r._soundById(s[a])){var l=n._pannerAttr;l={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:l.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:l.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:l.panningModel};var u=n._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(n._pos||(n._pos=r._pos||[0,0,-.5]),t(n,"spatial"))}return r},Sound.prototype.init=function(e){return function(){var t=this._parent;this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,e.call(this),this._stereo?t.stereo(this._stereo):this._pos&&t.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this._parent;return this._orientation=t._orientation,this._stereo=t._stereo,this._pos=t._pos,this._pannerAttr=t._pannerAttr,this._stereo?t.stereo(this._stereo):this._pos?t.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,t._refreshBuffer(this)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,o(1))},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";o.r(t);class n{constructor(){this.l=25,this.h=25,this.graphA=0,this.graphB=0,this.graphC=0,this.graphD=0}linePiece(){this.xA=4,this.yA=1,this.xB=5,this.yB=1,this.xC=6,this.yC=1,this.xD=7,this.yD=1,this.posState=1,this.color="lightblue",this.type="line",this.code=0}lPiece(){this.xA=6,this.yA=1,this.xB=6,this.yB=2,this.xC=5,this.yC=2,this.xD=4,this.yD=2,this.posState=1,this.color="green",this.type="l",this.code=1}jPiece(){this.xA=4,this.yA=1,this.xB=4,this.yB=2,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color="blue",this.type="j",this.code=2}sPiece(){this.xA=6,this.yA=1,this.xB=5,this.yB=1,this.xC=5,this.yC=2,this.xD=4,this.yD=2,this.posState=1,this.color="yellow",this.type="s",this.code=3}zPiece(){this.xA=4,this.yA=1,this.xB=5,this.yB=1,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color="red",this.type="z",this.code=4}tPiece(){this.xA=5,this.yA=1,this.xB=4,this.yB=2,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color="purple",this.type="t",this.code=5}squarePiece(){this.xA=5,this.yA=1,this.xB=6,this.yB=1,this.xC=5,this.yC=2,this.xD=6,this.yD=2,this.posState=1,this.color="orange",this.type="square",this.code=6}getXAPixels(){return 25*(this.xA-1)}getYAPixels(){return 25*this.yA}getXBPixels(){return 25*(this.xB-1)}getYBPixels(){return 25*this.yB}getXCPixels(){return 25*(this.xC-1)}getYCPixels(){return 25*this.yC}getXDPixels(){return 25*(this.xD-1)}getYDPixels(){return 25*this.yD}}var r=o(0);const i=(e,t)=>!(!t[e.xA][e.yA+1].includes("bottom")&&!t[e.xA][e.yA+1].includes("block"))||(!(!t[e.xB][e.yB+1].includes("bottom")&&!t[e.xB][e.yB+1].includes("block"))||(!(!t[e.xC][e.yC+1].includes("bottom")&&!t[e.xC][e.yC+1].includes("block"))||(!(!t[e.xD][e.yD+1].includes("bottom")&&!t[e.xD][e.yD+1].includes("block"))||void 0))),s=(e,t)=>{t[e.xA][e.yA]=`block ${e.color}`,t[e.xB][e.yB]=`block ${e.color}`,t[e.xC][e.yC]=`block ${e.color}`,t[e.xD][e.yD]=`block ${e.color}`},a=(e,t)=>{const o=document.getElementById("stage"),n=o.getContext("2d");let r;n.clearRect(0,0,o.width,o.height),n.drawImage(t.background,0,0,250,420);for(let o=0;o<11;o++)for(let i=4;i<24;i++)(e[o][i].includes("block")||e[o][i].includes("1"))&&(e[o][i].includes("lightblue")?r=t.lightblueBlock:e[o][i].includes("green")?r=t.greenBlock:e[o][i].includes("blue")?r=t.blueBlock:e[o][i].includes("yellow")?r=t.yellowBlock:e[o][i].includes("red")?r=t.redBlock:e[o][i].includes("purple")?r=t.purpleBlock:e[o][i].includes("orange")&&(r=t.orangeBlock),n.drawImage(r,25*(o-1),25*(i-4),25,25))},l=(e,t)=>{const o=document.getElementById("stage").getContext("2d");o.drawImage(t.clearBlock,e.getXAPixels(),e.graphA-100,25,25),o.drawImage(t.clearBlock,e.getXBPixels(),e.graphB-100,25,25),o.drawImage(t.clearBlock,e.getXCPixels(),e.graphC-100,25,25),o.drawImage(t.clearBlock,e.getXDPixels(),e.graphD-100,25,25)},u=(e,t,o,n)=>{let r;if(1===n){r=o?document.getElementById("reservePiece"):document.getElementById("nextPiece");const n=r.getContext("2d");n.clearRect(0,0,r.width,r.height),0===t?n.drawImage(e.lineBlock,14,53,100,25):1===t?n.drawImage(e.lBlock,30,39,75,50):2===t?n.drawImage(e.jBlock,30,39,75,50):3===t?n.drawImage(e.sBlock,30,39,75,50):4===t?n.drawImage(e.zBlock,30,39,75,50):5===t?n.drawImage(e.tBlock,30,39,75,50):6===t&&n.drawImage(e.squareBlock,42,39,50,50)}else{r=document.getElementById(`nextPiece${n}`);const o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),0===t?o.drawImage(e.lineBlock,8,30,57,14):1===t?o.drawImage(e.lBlock,17,22,43,29):2===t?o.drawImage(e.jBlock,17,22,43,29):3===t?o.drawImage(e.sBlock,17,22,43,29):4===t?o.drawImage(e.zBlock,17,22,43,29):5===t?o.drawImage(e.tBlock,17,22,43,29):6===t&&o.drawImage(e.squareBlock,24,22,29,29)}},c=e=>{document.querySelector("#points").textContent=e.totalPoints,document.querySelector("#gameLevel").textContent=e.level,document.querySelector("#linesCleared").textContent=e.linesCompleted,document.querySelector("#highScore").textContent=e.highScore,document.querySelector("#highScoreMenu").textContent=`High Score: ${e.highScore}`},d=()=>{let e;e=document.getElementById("reservePiece");let t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),e=document.getElementById("nextPiece"),t=e.getContext("2d"),t.clearRect(0,0,e.width,e.height)},_=e=>{"game"===e?(document.querySelector(".menu").style.display="none",document.querySelector(".game").style.display="grid",document.querySelector(".keyBind").style.display="none"):"menu"===e?(document.querySelector(".menu").style.display="grid",document.querySelector(".game").style.display="none",document.querySelector(".keyBind").style.display="none"):"set"===e&&(document.querySelector(".menu").style.display="none",document.querySelector(".game").style.display="none",document.querySelector(".keyBind").style.display="grid")},h=e=>{document.querySelector("#levelSet").textContent=e.levelSetter},p=new class{constructor(){this.sqSize=25}fallMovement(e){return e.yA=e.yA+1,e.yB=e.yB+1,e.yC=e.yC+1,e.yD=e.yD+1,e}inputMovement(e,t,o){return t===o.right?(e.xA=e.xA+1,e.xB=e.xB+1,e.xC=e.xC+1,e.xD=e.xD+1):t===o.left?(e.xA=e.xA-1,e.xB=e.xB-1,e.xC=e.xC-1,e.xD=e.xD-1):t===o.softDrop&&(e.yA=e.yA+1,e.yB=e.yB+1,e.yC=e.yC+1,e.yD=e.yD+1),e}instantDrop(e,t,o,n){let r=0,i=0,s=0,a=0;for(let o=0;o<25;o++)(o>e.yA&&t[e.xA][o].includes("block")||t[e.xA][o].includes("bottom"))&&(r>o||0===r?r=o:o=o),(o>e.yB&&t[e.xB][o].includes("block")||t[e.xB][o].includes("bottom"))&&(i>o||0===i?i=o:o=o),(o>e.yC&&t[e.xC][o].includes("block")||t[e.xC][o].includes("bottom"))&&(s>o||0===s?s=o:o=o),(o>e.yD&&t[e.xD][o].includes("block")||t[e.xD][o].includes("bottom"))&&(a>o||0===a?a=o:o=o);const l=Math.min(r-e.yA-1,i-e.yB-1,s-e.yC-1,a-e.yD-1);return o?(e.graphA=e.getYAPixels()+25*l,e.graphB=e.getYBPixels()+25*l,e.graphC=e.getYCPixels()+25*l,e.graphD=e.getYDPixels()+25*l):(n.drop=l,e.yA=e.yA+l,e.yB=e.yB+l,e.yC=e.yC+l,e.yD=e.yD+l),e}leftRotation(e){let t;if(t=1===e.posState||2===e.posState?1:-1,"line"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA+t,e.yA=e.yA+2*t,e.yB=e.yB+t,e.xC=e.xC-t,e.xD=e.xD-2*t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+2*t,e.yA=e.yA-t,e.xB=e.xB+t,e.yC=e.yC+t,e.xD=e.xD-t,e.yD=e.yD+2*t,4===e.posState?e.posState=1:e.posState++,e}else if("l"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA-2*t,e.xB=e.xB-t,e.yB=e.yB-t,e.xD=e.xD+t,e.yD=e.yD+t,e.posState++,e;case 2:case 4:return e.yA=e.yA+2*t,e.xB=e.xB-t,e.yB=e.yB+t,e.xD=e.xD+t,e.yD=e.yD-t,4===e.posState?e.posState=1:e.posState++,e}else if("j"===e.type)switch(e.posState){case 1:case 3:return e.yA=e.yA+2*t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+2*t,e.xB=e.xB+t,e.yB=e.yB-t,e.xD=e.xD-t,e.yD=e.yD+t,4===e.posState?e.posState=1:e.posState++,e}else if("s"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA-2*t,e.xB=e.xB-t,e.yB=e.yB+t,e.xD=e.xD+t,e.yD=e.yD+t,e.posState++,e;case 2:case 4:return e.yA=e.yA+2*t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD+t,e.yD=e.yD-t,4===e.posState?e.posState=1:e.posState++,e}else if("z"===e.type)switch(e.posState){case 1:case 3:return e.yA=e.yA+2*t,e.xB=e.xB-t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+2*t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD+t,4===e.posState?e.posState=1:e.posState++,e}else if("t"===e.type)switch(e.posState){case 1:case 3:return e.xA=e.xA-t,e.yA=e.yA+t,e.xB=e.xB+t,e.yB=e.yB+t,e.xD=e.xD-t,e.yD=e.yD-t,e.posState++,e;case 2:case 4:return e.xA=e.xA+t,e.yA=e.yA+t,e.xB=e.xB+t,e.yB=e.yB-t,e.xD=e.xD-t,e.yD=e.yD+t,4===e.posState?e.posState=1:e.posState++,e}}};let f,m,y,g,v,x,A,w,b,B=new n,k=new n,S=new class{constructor(){this.stageMatrix=[]}setMatrix(){for(let e=0;e<12;e++){this.stageMatrix[e]=[];for(let t=0;t<25;t++)this.stageMatrix[e][t]=0===e||11===e?"wall":24===t?"bottom":"0"}}loadPosition(e){this.stageMatrix[e.xA][e.yA]=`1 ${e.color}`,this.stageMatrix[e.xB][e.yB]=`1 ${e.color}`,this.stageMatrix[e.xC][e.yC]=`1 ${e.color}`,this.stageMatrix[e.xD][e.yD]=`1 ${e.color}`}erasePosition(e){this.stageMatrix[e.xA][e.yA]="0",this.stageMatrix[e.xB][e.yB]="0",this.stageMatrix[e.xC][e.yC]="0",this.stageMatrix[e.xD][e.yD]="0"}lineCompletion(e,t){let o=[],n=[];t.linesCleared=0;for(let n=24;n>4;n--){let r=0;for(let i=1;i<11;i++)e[i][n].includes("block")&&r<10&&r++,10===r&&(o.push(n),t.linesCleared++,t.linesCompleted++)}if(t.comboEnded(),0!==o.length){for(let e=0;e<25;e++)n[e]=e;o.map(e=>{for(let t=0;t<25;t++)t===e&&(n[t]=0)}),n.sort((e,t)=>e-t);for(let t=24;t>4;t--)for(let o=0;o<11;o++)e[o][t]=e[o][n[t]];t.combo++}}isGameOver(e,t){let o=!1;for(let n=1;n<11;n++)e[n][3].includes("block")&&(t.backgroundMusic.stop(),t.gameOver.play(),o=!0);return o}},T=new class{constructor(){this.background=new Image,this.redBlock=new Image,this.blueBlock=new Image,this.greenBlock=new Image,this.orangeBlock=new Image,this.lightblueBlock=new Image,this.purpleBlock=new Image,this.yellowBlock=new Image,this.clearBlock=new Image,this.lineBlock=new Image,this.lBlock=new Image,this.jBlock=new Image,this.sBlock=new Image,this.zBlock=new Image,this.tBlock=new Image,this.squareBlock=new Image,this.background.src="img/gameBackground.png",this.redBlock.src="img/redBlock.png",this.blueBlock.src="img/blueBlock.png",this.greenBlock.src="img/greenBlock.png",this.orangeBlock.src="img/orangeBlock.png",this.lightblueBlock.src="img/lightblueBlock.png",this.purpleBlock.src="img/purpleBlock.png",this.yellowBlock.src="img/yellowBlock.png",this.clearBlock.src="img/clearBlock.png",this.lineBlock.src="img/lineBlock.png",this.lBlock.src="img/lBlock.png",this.jBlock.src="img/jBlock.png",this.sBlock.src="img/sBlock.png",this.zBlock.src="img/zBlock.png",this.tBlock.src="img/tBlock.png",this.squareBlock.src="img/squareBlock.png"}},D=new class{constructor(){this.highScore=0,this.levelSetter=0}setStart(){this.linesCleared=0,this.linesCompleted=0,this.combo=0,this.gameSpeed=1e3,this.totalPoints=0,this.level=0,this.drop=0}comboEnded(){this.linesCleared>0?this.combo=this.combo:this.combo=0}scoredPoints(e){switch(this.linesCleared){case 1:this.totalPoints=this.totalPoints+40*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e.line.play();break;case 2:this.totalPoints=this.totalPoints+100*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e.double.play();break;case 3:this.totalPoints=this.totalPoints+130*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e.triple.play();break;case 4:this.totalPoints=this.totalPoints+1200*(this.level+1)+50*(this.combo-1)*(this.level+1)+2*this.drop,e.quad.play()}this.highScore<this.totalPoints&&(this.highScore=this.totalPoints)}gameLevel(){this.level=Math.floor(this.linesCompleted/10)+this.levelSetter,this.gameSpeed=1e3/(1+.333*this.level)}},I=new class{constructor(){}setDefault(){this.left="ArrowLeft",this.right="ArrowRight",this.rotate="ArrowUp",this.softDrop="ArrowDown",this.hardDrop="Space",this.hold="ShiftLeft",this.cancelOthers=!1,this.id="",this.selectedKey="",this.usedKey=!1,document.querySelector("#leftBind").textContent="Move Left: ArrowLeft",document.querySelector("#rightBind").textContent="Move Right: ArrowRight",document.querySelector("#rotateBind").textContent="Rotate Piece: ArrowUp",document.querySelector("#softDropBind").textContent="Soft Drop: ArrowDown",document.querySelector("#hardDropBind").textContent="Hard Drop: Space",document.querySelector("#holdBind").textContent="Hold Piece: ShiftLeft"}setKey(e){if(e===this.left||e===this.right||e===this.rotate||e===this.softDrop||e===this.hardDrop||e===this.hold)document.querySelector(`#${this.id}`).textContent="Key is already in use",this.usedKey=!0;else{switch(document.querySelector(`#${this.id}`).style.color="white",this.id){case"leftBind":this.left=e,document.querySelector(`#${this.id}`).textContent=`Move Left: ${e}`;break;case"rightBind":this.right=e,document.querySelector(`#${this.id}`).textContent=`Move Right: ${e}`;break;case"rotateBind":this.rotate=e,document.querySelector(`#${this.id}`).textContent=`Rotate Piece: ${e}`;break;case"softDropBind":this.softDrop=e,document.querySelector(`#${this.id}`).textContent=`Soft Drop: ${e}`;break;case"hardDropBind":this.hardDrop=e,document.querySelector(`#${this.id}`).textContent=`Hard Drop: ${e}`;break;case"holdBind":this.hold=e,document.querySelector(`#${this.id}`).textContent=`Hold Piece: ${e}`}this.cancelOthers=!1}}keySetter(e,t){this.cancelOthers||(document.querySelector(`#${this.id}`).style.color="red",e.target.matches("#leftBind")?(document.querySelector(`#${this.id}`).textContent="Please set a Left Key",this.cancelOthers=!0):e.target.matches("#rightBind")?(document.querySelector(`#${this.id}`).textContent="Please set a Right Key",this.cancelOthers=!0):e.target.matches("#rotateBind")?(document.querySelector(`#${this.id}`).textContent="Please set a Rotate Key",this.cancelOthers=!0):e.target.matches("#softDropBind")?(document.querySelector(`#${this.id}`).textContent="Please set a Soft Drop Key",this.cancelOthers=!0):e.target.matches("#hardDropBind")?(document.querySelector(`#${this.id}`).textContent="Please set a Hard Drop Key",this.cancelOthers=!0):e.target.matches("#holdBind")?(document.querySelector(`#${this.id}`).textContent="Please set a Hold Key",this.cancelOthers=!0):e.target.matches("#defaultKeys")&&(t.triple.play(),this.setDefault()))}resetField(){document.querySelector(`#${this.id}`).textContent=this.selectedKey,document.querySelector(`#${this.id}`).style.color="white"}},P=new class{constructor(){this.backgroundMusic=new r.Howl({src:["../sound/tetrisMusic.mp3"],loop:!0,preload:!0,volume:.8}),this.backgroundMenuMusic=new r.Howl({src:["../sound/tetrisMenuMusic.mp3"],loop:!0,preload:!0,autoplay:!0,volume:.6}),this.hardDrop=new r.Howl({src:["../sound/hardDrop.wav"],volume:.8,preload:!0}),this.line=new r.Howl({src:["../sound/line.wav"],preload:!0}),this.double=new r.Howl({src:["../sound/double.wav"],preload:!0}),this.triple=new r.Howl({src:["../sound/triple.wav"],preload:!0}),this.quad=new r.Howl({src:["../sound/quad.wav"],preload:!0}),this.hold=new r.Howl({src:["../sound/hold.wav"],volume:.3,preload:!0}),this.startTetris=new r.Howl({src:["../sound/startTetris.wav"],preload:!0,volume:.8}),this.restart=new r.Howl({src:["../sound/restart.wav"],volume:.8,preload:!0}),this.quit=new r.Howl({src:["../sound/quit.wav"],volume:.8,preload:!0}),this.drop=new r.Howl({src:["../sound/drop.wav"],volume:.4,preload:!0}),this.setLevel=new r.Howl({src:["../sound/setLevel.wav"],preload:!0}),this.move=new r.Howl({src:["../sound/move.wav"],volume:.2,preload:!0}),this.gameOver=new r.Howl({src:["../sound/gameOver.wav"],volume:.25,preload:!0})}},M=!1,C=!1,q=!0,O=!1,H=!1;I.setDefault();const L=function(){P.backgroundMusic.play(),q=!1,S.setMatrix(),D.setStart(),D.gameLevel(),y=7,v=7,x=Math.floor(7*Math.random()),A=Math.floor(7*Math.random()),w=Math.floor(7*Math.random()),b=Math.floor(7*Math.random()),d(),clearInterval(m),c(D),a(S.stageMatrix,T),E()},E=()=>{if(q)(()=>{const e=document.getElementById("stage"),t=e.getContext("2d");t.font="26px EightBit",t.fillStyle="White",t.textAlign="center",t.fillText("GAME OVER",e.width/2,e.height/2),t.strokeText("GAME OVER",e.width/2,e.height/2)})();else{switch(M&&7!==v?g=v:(g=x,x=A,A=w,w=b,b=Math.floor(7*Math.random()),u(T,x,M,1),u(T,A,M,2),u(T,w,M,3),u(T,b,M,4)),M=!1,g){case 0:B.linePiece(),k.linePiece();break;case 1:B.lPiece(),k.lPiece();break;case 2:B.jPiece(),k.jPiece();break;case 3:B.sPiece(),k.sPiece();break;case 4:B.zPiece(),k.zPiece();break;case 5:B.tPiece(),k.tPiece();break;case 6:B.squarePiece(),k.squarePiece()}a(S.stageMatrix,T),B=p.instantDrop(B,S.stageMatrix,!0),l(B,T),F()}},F=()=>{let e=!1;m=setTimeout((function(){i(B,S.stageMatrix)?(P.drop.play(),s(B,S.stageMatrix),C=!1,e=!0,clearInterval(m),S.lineCompletion(S.stageMatrix,D),D.scoredPoints(P),q=S.isGameOver(S.stageMatrix,P),a(S.stageMatrix,T),D.gameLevel(),c(D),E()):(S.erasePosition(B),B=p.fallMovement(B),S.loadPosition(B),u(T,x,M,1),u(T,A,M,2),u(T,w,M,3),u(T,b,M,4),a(S.stageMatrix,T),B=p.instantDrop(B,S.stageMatrix,!0),l(B,T),F())}),D.gameSpeed)};document.addEventListener("keydown",(function(e){f=e.code,q||(f!==I.hold||C||(P.hold.play(),M=!0,C=!0,v=y,y=g,u(T,y,M,1),S.erasePosition(B),clearInterval(m),a(S.stageMatrix,T),7===v&&(M=!1),E()),f!==I.hardDrop||H||O||(P.hardDrop.play(),S.erasePosition(B),B=p.instantDrop(B,S.stageMatrix,!1,D),S.loadPosition(B),s(B,S.stageMatrix),clearInterval(m),S.lineCompletion(S.stageMatrix,D),D.scoredPoints(P),q=S.isGameOver(S.stageMatrix,P),C=!1,a(S.stageMatrix,T),D.gameLevel(),c(D),E()),f===I.rotate&&"square"!==B.type&&(((e,t)=>{let o,n=e.xA,r=e.yA,i=e.xB,s=e.yB,a=e.xC,l=e.yC,u=e.xD,c=e.yD;if(o=1===e.posState||2===e.posState?1:-1,"line"===e.type)switch(e.posState){case 1:case 3:n+=o,r+=2*o,s+=o,a-=o,u-=2*o,c-=o;break;case 2:case 4:n+=2*o,r-=o,i+=o,l+=o,u-=o,c+=2*o}else if("l"===e.type)switch(e.posState){case 1:case 3:n-=2*o,i-=o,s-=o,u+=o,c+=o;break;case 2:case 4:r+=2*o,i-=o,s+=o,u+=o,c-=o}else if("j"===e.type)switch(e.posState){case 1:case 3:r+=2*o,i+=o,s+=o,u-=o,c-=o;break;case 2:case 4:n+=2*o,i+=o,s-=o,u-=o,c+=o}else if("s"===e.type)switch(e.posState){case 1:case 3:n-=2*o,i-=o,s+=o,u+=o,c+=o;break;case 2:case 4:r+=2*o,i+=o,s+=o,u+=o,c-=o}else if("z"===e.type)switch(e.posState){case 1:case 3:r+=2*o,i-=o,s+=o,u-=o,c-=o;break;case 2:case 4:n+=2*o,i+=o,s+=o,u-=o,c+=o}else if("t"===e.type)switch(e.posState){case 1:case 3:n-=o,r+=o,i+=o,s+=o,u-=o,c-=o;break;case 2:case 4:n+=o,r+=o,i+=o,s-=o,u-=o,c+=o}return!!(t[n][r].includes("block")||t[n][r].includes("bottom")||t[n][r].includes("wall")||null===t[n][r])||(!!(t[i][s].includes("block")||t[i][s].includes("bottom")||t[i][s].includes("wall")||null===t[i][s])||(!!(t[a][l].includes("block")||t[a][l].includes("bottom")||t[a][l].includes("wall")||null===t[a][l])||(!!(t[u][c].includes("block")||t[u][c].includes("bottom")||t[u][c].includes("wall")||null===t[u][c])||void 0)))})(B,S.stageMatrix)||(S.erasePosition(B),B=p.instantDrop(B,S.stageMatrix,!0),B=p.leftRotation(B),S.loadPosition(B),a(S.stageMatrix,T),l(B,T))),((e,t,o,n)=>{if(t===n.left){if(o[e.xA-1][e.yA].includes("wall")||o[e.xA-1][e.yA].includes("block")||o[e.xB-1][e.yB].includes("wall")||o[e.xB-1][e.yB].includes("block")||o[e.xC-1][e.yC].includes("wall")||o[e.xC-1][e.yC].includes("block")||o[e.xD-1][e.yD].includes("wall")||o[e.xD-1][e.yD].includes("block"))return!0}else if(t===n.right&&(o[e.xA+1][e.yA].includes("wall")||o[e.xA+1][e.yA].includes("block")||o[e.xB+1][e.yB].includes("wall")||o[e.xB+1][e.yB].includes("block")||o[e.xC+1][e.yC].includes("wall")||o[e.xC+1][e.yC].includes("block")||o[e.xD+1][e.yD].includes("wall")||o[e.xD+1][e.yD].includes("block")))return!0})(B,f,S.stageMatrix,I)||f===I.hardDrop||H||O||(P.move.play(),S.erasePosition(B),f===I.softDrop&&i(B,S.stageMatrix)||(B=p.inputMovement(B,f,I)),B=p.instantDrop(B,S.stageMatrix,!0),S.loadPosition(B),a(S.stageMatrix,T),l(B,T)))})),document.querySelector("#restart").addEventListener("click",(function(){H||O||(O=!0,H=!0,d(),clearInterval(m),P.restart.play(),P.backgroundMusic.stop(),setTimeout((function(){L(),O=!1,H=!1}),1500))})),document.querySelector("#startGame").addEventListener("click",(function(){H||O||(P.move.play(),H=!0,_("game"),d(),P.startTetris.play(),P.backgroundMenuMusic.stop(),q=!1,setTimeout((function(){L(),H=!1}),1500))})),document.querySelector("#keyBind").addEventListener("click",(function(){P.move.play(),_("set")})),document.querySelector("#quit").addEventListener("click",(function(){H||O||(H=!0,P.quit.play(),P.backgroundMusic.stop(),clearInterval(m),_("menu"),setTimeout((function(){P.backgroundMenuMusic.play(),H=!1}),1500))})),document.querySelector("#arrowUp").addEventListener("click",(function(){P.setLevel.play(),D.levelSetter++,h(D)})),document.querySelector("#arrowDown").addEventListener("click",(function(){D.levelSetter>0&&(P.setLevel.play(),D.levelSetter--,h(D))})),document.querySelector(".keyBind").addEventListener("click",e=>{I.cancelOthers||(P.move.play(),I.id=e.target.id,I.selectedKey=document.getElementById(I.id).textContent,I.keySetter(e,P))}),document.addEventListener("keydown",(function(e){I.cancelOthers&&(I.setKey(e.code),P.setLevel.play(),I.usedKey?setTimeout((function(){I.resetField(),I.cancelOthers=!1}),1300):I.usedKey=!1,I.usedKey=!1)})),document.querySelector("#backToMenu").addEventListener("click",(function(){I.cancelOthers||(P.move.play(),_("menu"))}))}]);